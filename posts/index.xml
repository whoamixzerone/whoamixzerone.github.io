<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
    <channel>
        <title>All Posts - ğŸ‘¨â€ğŸ’»Quantum &amp; Time</title>
        <link>https://whoamixzerone.github.io/posts/</link>
        <description>All Posts | ğŸ‘¨â€ğŸ’»Quantum &amp; Time</description>
        <generator>Hugo -- gohugo.io</generator><language>en</language><lastBuildDate>Sun, 18 Jul 2021 20:29:56 &#43;0900</lastBuildDate><atom:link href="https://whoamixzerone.github.io/posts/" rel="self" type="application/rss+xml" /><item>
    <title>JUnit @Before &amp; @After</title>
    <link>https://whoamixzerone.github.io/2021/07/18/java-junit-before/</link>
    <pubDate>Sun, 18 Jul 2021 20:29:56 &#43;0900</pubDate>
    <author>Author</author>
    <guid>https://whoamixzerone.github.io/2021/07/18/java-junit-before/</guid>
    <description><![CDATA[<div class="featured-image">
                <img src="/images/annotation-before.png" referrerpolicy="no-referrer">
            </div>@Before ì• ë…¸í…Œì´ì…˜ì„ ì§€ê¸ˆê¹Œì§€ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì „ ì‹¤í–‰ì´ ëœë‹¤ëŠ” ê²ƒ ì •ë„ë§Œ ì•Œê³  ìˆì—ˆëŠ”ë°, ë°•ì¬ì„± ë‹˜ì˜ ì±…ì„ í†µí•´ ì¢‹ì€ ë‚´ìš©ì„ ì•Œê²Œ ë˜ì—ˆë‹¤.
JUnitì„ ì‚¬ìš©í•  ë•Œ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±ì„ ìœ„í•´ @Before ì• ë…¸í…Œì´ì…˜ì„ í™œìš©í•œë‹¤.
@Before ì• ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ì§€ ì•Šê³  í•„ë“œ(field)ë¡œ êµ¬í˜„í•˜ëŠ” ë°©ë²•ë„ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ëŠ” ì„±ê³µí•œë‹¤. ê° ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•  ë•Œë§ˆë‹¤ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì€ ë˜‘ê°™ê¸° ë•Œë¬¸ì´ë‹¤. import static org.junit.Assert.assertEquals; import org.junit.Test; public class CalculatorTest { private Calculator cal = new Calculator; @Test public void add() { assertEquals(6, cal.add(3, 3)); } @Test public void sub() { assertEquals(0, cal.sub(3, 3)); } @Test public void mul() { asssertEquals(9, cal.mul(3, 3)); } @Test public void div() { assertEquals(2, cal.div(6, 3)); } } ìœ„ì™€ ê°™ì´ ì‘ì„±í•´ë„ í…ŒìŠ¤íŠ¸ëŠ” ì„±ê³µí•œë‹¤.
í•˜ì§€ë§Œ, JUnitì€ ì´ˆê¸°í™” ì‘ì—…ì„ ìœ„ì™€ ê°™ì´ êµ¬í˜„í•˜ëŠ” ê²ƒì„ ì¶”ì²œí•˜ì§€ ì•ŠëŠ”ë‹¤.
ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§¤ í…ŒìŠ¤íŠ¸ë§ˆë‹¤ ìƒì„±í•˜ëŠ” ì´ìœ ëŠ” í…ŒìŠ¤íŠ¸ ë©”ì„œë“œë¥¼ ì‹¤í–‰í•  ë•Œ ì¸ìŠ¤í„´ìŠ¤ì˜ ìƒíƒœ ê°’ì´ ë³€ê²½ë˜ì–´ ë‹¤ìŒ í…ŒìŠ¤íŠ¸ ë©”ì„œë“œë¥¼ ì‹¤í–‰í•  ë•Œ ì˜í–¥ì„ ë¯¸ì¹  ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤. ì´ì™€ ê°™ì´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ìˆœì„œë‚˜ ì¸ìŠ¤í„´ìŠ¤ ìƒíƒœ ê°’ì— ë”°ë¼ í…ŒìŠ¤íŠ¸ê°€ ì„±ê³µí•˜ê±°ë‚˜ ì‹¤íŒ¨í•  ìˆ˜ ìˆë‹¤. @Before ê·¸ëŸ¬ë©´ ì™œ @Before ì• ë…¸í…Œì´ì…˜ì„ í™œìš©í•˜ë„ë¡ ì¶”ì²œí• ê¹Œ?
JUnitì—ëŠ” @RunWith, @Rule ê°™ì€ ì• ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•´ ê¸°ëŠ¥ì„ í™•ì¥í•  ìˆ˜ ìˆëŠ”ë°, @Before ì•ˆì´ì–´ ì•¼ë§Œ @RunWith, @Ruleì—ì„œ ì´ˆê¸°í™”ëœ ê°ì²´ì— ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤ëŠ” ì œì•½ì‚¬í•­ì´ ìˆê¸° ë•Œë¬¸ì´ë‹¤.
import static org.junit.Assert.assertEquals; import org.junit.Test; public class CalculatorTest { private Calculator cal; @Before public void setup() { cal = new Calculator(); System.out.println(&#34;before&#34;); } @After public void cleanup() { System.out.println(&#34;cleanup&#34;); } @Test public void add() { assertEquals(6, cal.add(3, 3)); System.out.println(&#34;add&#34;); } @Test public void sub() { assertEquals(0, cal.sub(3, 3)); System.out.println(&#34;sub&#34;); } @Test public void mul() { asssertEquals(9, cal.mul(3, 3)); System.out.println(&#34;mul&#34;); } @Test public void div() { assertEquals(2, cal.div(6, 3)); System.out.println(&#34;div&#34;); } } ì´ì „ ì½”ë“œì—ì„œ @Before, @After ì• ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í–ˆë‹¤.
í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•´ë³´ë©´ ì‹¤í–‰ ìˆœì„œëŠ” ë‹¤ìŒê³¼ ê°™ì´ ë‚˜ì˜¨ë‹¤.
 @Before -&gt; method -&gt; @After ìˆœì„œë¡œ ë‚˜ì˜¤ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.  ë§¤ë²ˆ ì´ˆê¸°í™”, í›„ì²˜ë¦¬ ì‘ì—…ì„ í†µí•´ ê° í…ŒìŠ¤íŠ¸ ê°„ì— ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•Šìœ¼ë©´ì„œ ë…ë¦½ì ì¸ ì‹¤í–‰ì´ ê°€ëŠ¥í•˜ë‹¤.]]></description>
</item><item>
    <title>Spring Boot ìë™ í™˜ê²½ ì„¤ì •</title>
    <link>https://whoamixzerone.github.io/2021/04/12/spring-boot-autoconfigure/</link>
    <pubDate>Mon, 12 Apr 2021 11:26:38 &#43;0900</pubDate>
    <author>Author</author>
    <guid>https://whoamixzerone.github.io/2021/04/12/spring-boot-autoconfigure/</guid>
    <description><![CDATA[<div class="featured-image">
                <img src="/images/spring-boot.png" referrerpolicy="no-referrer">
            </div>Spring Boot ìë™ ì„¤ì •ì€ Web, H2, JDBC ë“± 100ì—¬ ê°œì˜ ìë™ ì„¤ì •ì„ ì œê³µí•œë‹¤. ìƒˆë¡œ ì¶”ê°€ë˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬(JAR)ëŠ” Spring Boot ìë™ ì„¤ì • ì˜ì¡´ì„±ì„ ë”°ë¼ì„œ ì„¤ì •ì´ ìë™ ì ìš©ëœë‹¤.
ìë™ ì„¤ì •ì€ @EnableAutoConfiguration or @SpringBootApplication ì¤‘ í•˜ë‚˜ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤. @EnableAutoConfiguration ì‚¬ìš© ì‹œ @Configurationì™€ ê°™ì´ ì‚¬ìš©í•´ì•¼ í•œë‹¤.
Spring Boot Versionì€ 2.4.4 ë²„ì „ì´ë‹¤.
@SpringBootApplication spring-boot-autoconfigure-2.4.4.jar/org/springframework/boot/autoconfigure/SpringBootApplication.java
@Target(ElementType.TYPE) @Retention(RetentionPolicy.RUNTIME) @Documented @Inherited @SpringBootConfiguration @EnableAutoConfiguration @ComponentScan(excludeFilters = { @Filter(type = FilterType.CUSTOM, classes = TypeExcludeFilter.class), @Filter(type = FilterType.CUSTOM, classes = AutoConfigurationExcludeFilter.class) }) public @interface SpringBootApplication {}  @SpringBootConfiguration : ìŠ¤í”„ë§ ë¶€íŠ¸ì˜ ì„¤ì •ì„ ë‚˜íƒ€ë‚´ëŠ” ì–´ë…¸í…Œì´ì…˜. @EnableAutoConfiguration : ìë™ ì„¤ì •ì˜ í•µì‹¬ì–´ë…¸í…Œì´ì…˜. @ComponentScan : íŠ¹ì • íŒ¨í‚¤ì§€ ê²½ë¡œì—ì„œ @Component ì„¤ì • í´ë˜ìŠ¤ë¥¼ ì°¾ëŠ”ë‹¤. basePackages í”„ë¡œí¼í‹° ê°’ì— ê²½ë¡œë¥¼ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ @ComponentScanì„ ì„ ì–¸í•œ ìœ„ì¹˜ê°€ basePackagesë¡œ ì§€ì •ëœë‹¤.  @EnableAutoConfiguration spring-boot-autoconfigure-2.4.4.jar/org/springframework/boot/autoconfigre/EnableAutoConfiguration.java
@Target(ElementType.TYPE) @Retention(RetentionPolicy.RUNTIME) @Documented @Inherited @AutoConfigurationPackage @Import(AutoConfigurationImportSelector.class) public @interface EnableAutoConfiguration {} EnableAutoConfiguration í´ë˜ìŠ¤ì—ì„œ ìë™ ì„¤ì •ì„ ì§€ì›í•´ì£¼ëŠ” ì–´ë…¸í…Œì´ì…˜ì€ @Import(AutoConfigurationImportSelector.class)ë¶€ë¶„ì´ë‹¤.
AutoConfigurationImportSelector class í•´ë‹¹ í´ë˜ìŠ¤ì—ì„œ ì—¬ëŸ¬ í•„ë“œì™€ ë©”ì„œë“œë¡œ ì¸í•´ ê°„ì†Œí™”í–ˆë‹¤. spring-boot-autoconfigure-2.4.4.jar/org/springframework/boot/autoconfigure/AutoConfigurationImportSelector.java
public class AutoConfigurationImportSelector implements DeferredImportSelector, BeanClassLoaderAware, ResourceLoaderAware, BeanFactoryAware, EnvironmentAware, Ordered {}   DeferredImportSelector docs
  AutoConfigurationImportSelector í´ë˜ìŠ¤ëŠ” DeferredImportSelector ì¸í„°í˜ì´ìŠ¤ì—ì„œ êµ¬í˜„ëœ selectImports ë©”ì„œë“œë¥¼ ì˜¤ë²„ë¼ì´ë“œí•œë‹¤. selectImports ë©”ì„œë“œì—ì„œ ìë™ ì„¤ì •í•  beanì„ ê²°ì •í•œë‹¤. DeferredImportSelector ì¸í„°í˜ì´ìŠ¤ ë‚´ìš©ì€ ìœ„ì˜ springframework docsìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
 selectImports method @Override public String[] selectImports(AnnotationMetadata annotationMetadata) { if (!isEnabled(annotationMetadata)) { return NO_IMPORTS; } AutoConfigurationEntry autoConfigurationEntry = getAutoConfigurationEntry(annotationMetadata); return StringUtils.toStringArray(autoConfigurationEntry.getConfigurations()); }   ë¨¼ì € isEnabled ë©”ì„œë“œë¡œ EnableAutoConfiguration.ENABLED_OVERRIDE_PROPERTYê°€ ì„¤ì •ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•œë‹¤. getAutoConfigurationEntry ë©”ì„œë“œì—ì„œ beanì„ í™•ì¸í•œë‹¤.
  protected AutoConfigurationEntry getAutoConfigurationEntry(AnnotationMetadata annotationMetadata) { if (!isEnabled(annotationMetadata)) { return EMPTY_ENTRY; } AnnotationAttributes attributes = getAttributes(annotationMetadata); List&lt;String&gt; configurations = getCandidateConfigurations(annotationMetadata, attributes); configurations = removeDuplicates(configurations); Set&lt;String&gt; exclusions = getExclusions(annotationMetadata, attributes); checkExcludedClasses(configurations, exclusions); configurations.removeAll(exclusions); configurations = getConfigurationClassFilter().filter(configurations); fireAutoConfigurationImportEvents(configurations, exclusions); return new AutoConfigurationEntry(configurations, exclusions); }  protected List&lt;String&gt; getCandidateConfigurations(AnnotationMetadata metadata, AnnotationAttributes attributes) { List&lt;String&gt; configurations = SpringFactoriesLoader.loadFactoryNames(getSpringFactoriesLoaderFactoryClass(), getBeanClassLoader()); Assert.notEmpty(configurations, &#34;No auto configuration classes found in META-INF/spring.factories. If you &#34; + &#34;are using a custom packaging, make sure that file is correct.&#34;); return configurations; } getCandidateConfigurations ë©”ì„œë“œì—ì„œ SpringFactoriesLoader.loadFactoryNames ë©”ì„œë“œë¡œ ì •ì˜ë˜ì–´ ìˆëŠ” ìë™ ì„¤ì •í•  í´ë˜ìŠ¤ë“¤ì„ ë¶ˆëŸ¬ì˜¨ë‹¤. ì •ì˜ëœ í´ë˜ìŠ¤ë“¤ì€ spring-boot-autoconfigure-2.4.4.jar/META-INF/spring.factoriesì— ì •ì˜ë˜ì–´ ìˆë‹¤. ì´ ì •ì˜ëœ í´ë˜ìŠ¤ë“¤ì„ ë¶ˆëŸ¬ì˜¤ë©´ ì—¬ëŸ¬ ìŠ¤í”„ë§ ë¶€íŠ¸ ìŠ¤íƒ€í„° ë“±ë¡ìœ¼ë¡œ ì¸í•´ ì¤‘ë³µëœ beanì´ ìì£¼ ì¼ì–´ë‚œë‹¤. ê·¸ë˜ì„œ getAutoConfigurationEntry ë©”ì„œë“œì—ì„œ removeDuplicates, getExclusions ë©”ì„œë“œê°€ ì œì™¸í•  ì„¤ì •ê³¼ ì¤‘ë³µ ì„¤ì •ì„ ì œì™¸ì‹œí‚¨ë‹¤.
Bean ë“±ë¡ ë° ìë™ ì„¤ì • íŒŒì¼ íŒŒì¼ ìœ„ì¹˜ spring-boot-autoconfigure-2.4.4.jar/
 META-INF/spring.factories : ìë™ ì„¤ì •í•  ì •ì˜ëœ í´ë˜ìŠ¤ ëª©ë¡ META-INF/spring-configuration-metadata.json : ìë™ ì„¤ì •ì— ì‚¬ìš©í•  í”„ë¡œí¼í‹°ê°€ ì •ì˜ëœ ëª©ë¡  ìë™ ì„¤ì •ì— ì‚¬ìš©í•  í”„ë¡œí¼í‹° ê°’ì„ ì¶”ê°€í•˜ë ¤ë©´ application.propertiesë‚˜ application.ymlì— ì¶”ê°€í•´ì£¼ë©´ ëœë‹¤.
  Application properties docs
 í”„ë¡œí¼í‹° ê°’ì€ ìœ„ì˜ spring boot docsì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.]]></description>
</item></channel>
</rss>
